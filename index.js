const _0x41a0d9=_0x5327;(function(_0x513352,_0x64ece8){const _0x137702=_0x5327,_0x2c188f=_0x513352();while(!![]){try{const _0x29c784=parseInt(_0x137702(0x140))/0x1*(parseInt(_0x137702(0x1a7))/0x2)+-parseInt(_0x137702(0x143))/0x3+-parseInt(_0x137702(0x188))/0x4+-parseInt(_0x137702(0x1b0))/0x5+-parseInt(_0x137702(0x1b1))/0x6*(-parseInt(_0x137702(0x139))/0x7)+parseInt(_0x137702(0x15e))/0x8+parseInt(_0x137702(0x199))/0x9;if(_0x29c784===_0x64ece8)break;else _0x2c188f['push'](_0x2c188f['shift']());}catch(_0x19bef8){_0x2c188f['push'](_0x2c188f['shift']());}}}(_0x545a,0x54b6f));function _0x5327(_0x2292e3,_0x2c75a1){_0x2292e3=_0x2292e3-0x138;const _0x545ac6=_0x545a();let _0x532786=_0x545ac6[_0x2292e3];return _0x532786;}const express=require(_0x41a0d9(0x1e5)),app=express(),axios=require(_0x41a0d9(0x1c2)),os=require('os'),fs=require('fs'),path=require(_0x41a0d9(0x194)),{promisify}=require('util'),exec=promisify(require(_0x41a0d9(0x15f))[_0x41a0d9(0x141)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x41a0d9(0x1f5)]||'',PROJECT_URL=process[_0x41a0d9(0x195)][_0x41a0d9(0x1f6)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x41a0d9(0x1a2)]||_0x41a0d9(0x1ba),SUB_PATH=process['env'][_0x41a0d9(0x16b)]||_0x41a0d9(0x1b3),PORT=process[_0x41a0d9(0x195)]['SERVER_PORT']||process[_0x41a0d9(0x195)][_0x41a0d9(0x187)]||0xbb8,UUID=process[_0x41a0d9(0x195)]['UUID']||_0x41a0d9(0x1cb),NEZHA_SERVER=process[_0x41a0d9(0x195)][_0x41a0d9(0x176)]||'',NEZHA_PORT=process[_0x41a0d9(0x195)][_0x41a0d9(0x157)]||'',NEZHA_KEY=process[_0x41a0d9(0x195)][_0x41a0d9(0x1cd)]||'',ARGO_DOMAIN=process[_0x41a0d9(0x195)][_0x41a0d9(0x1af)]||_0x41a0d9(0x19e),ARGO_AUTH=process[_0x41a0d9(0x195)][_0x41a0d9(0x1b9)]||_0x41a0d9(0x1e1),ARGO_PORT=process[_0x41a0d9(0x195)][_0x41a0d9(0x147)]||0x1f41,CFIP=process[_0x41a0d9(0x195)][_0x41a0d9(0x1f7)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x41a0d9(0x1e3)]||0x1bb,NAME=process[_0x41a0d9(0x195)][_0x41a0d9(0x1bf)]||_0x41a0d9(0x183);!fs[_0x41a0d9(0x1e2)](FILE_PATH)?(fs[_0x41a0d9(0x1b6)](FILE_PATH),console[_0x41a0d9(0x1f2)](FILE_PATH+_0x41a0d9(0x1be))):console[_0x41a0d9(0x1f2)](FILE_PATH+_0x41a0d9(0x1a1));function generateRandomName(){const _0x306552=_0x41a0d9,_0x5f3a1f=_0x306552(0x14d);let _0xb24e74='';for(let _0x50328c=0x0;_0x50328c<0x6;_0x50328c++){_0xb24e74+=_0x5f3a1f[_0x306552(0x155)](Math[_0x306552(0x1d4)](Math[_0x306552(0x1d7)]()*_0x5f3a1f[_0x306552(0x1f0)]));}return _0xb24e74;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x41a0d9(0x1c1)](FILE_PATH,npmName),phpPath=path[_0x41a0d9(0x1c1)](FILE_PATH,phpName),webPath=path[_0x41a0d9(0x1c1)](FILE_PATH,webName),botPath=path[_0x41a0d9(0x1c1)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x41a0d9(0x1c1)](FILE_PATH,_0x41a0d9(0x1b2)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x41a0d9(0x1c1)](FILE_PATH,_0x41a0d9(0x1e6));function deleteNodes(){const _0x327b6b=_0x41a0d9;try{if(!UPLOAD_URL)return;if(!fs[_0x327b6b(0x1e2)](subPath))return;let _0xba8bb0;try{_0xba8bb0=fs[_0x327b6b(0x150)](subPath,_0x327b6b(0x1aa));}catch{return null;}const _0x9939f6=Buffer[_0x327b6b(0x1a8)](_0xba8bb0,'base64')['toString']('utf-8'),_0x24612f=_0x9939f6[_0x327b6b(0x171)]('\x0a')['filter'](_0x4f0875=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x327b6b(0x151)](_0x4f0875));if(_0x24612f['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x327b6b(0x19f),JSON[_0x327b6b(0x167)]({'nodes':_0x24612f}),{'headers':{'Content-Type':_0x327b6b(0x1a3)}})['catch'](_0x137f14=>{return null;}),null;}catch(_0x3c2992){return null;}}function cleanupOldFiles(){const _0x3183d9=_0x41a0d9;try{const _0xdf16fc=fs[_0x3183d9(0x1a5)](FILE_PATH);_0xdf16fc[_0x3183d9(0x1d0)](_0x4457ab=>{const _0x5b4893=_0x3183d9,_0x26b76d=path['join'](FILE_PATH,_0x4457ab);try{const _0x26f8d4=fs[_0x5b4893(0x1dc)](_0x26b76d);_0x26f8d4[_0x5b4893(0x14a)]()&&fs[_0x5b4893(0x193)](_0x26b76d);}catch(_0x2bed38){}});}catch(_0x1f5eec){}}app[_0x41a0d9(0x13b)]('/',function(_0x25c7ab,_0x466ff7){const _0x1719c5=_0x41a0d9;_0x466ff7[_0x1719c5(0x170)](_0x1719c5(0x146));});async function generateConfig(){const _0x672b7d=_0x41a0d9,_0x2173dc={'log':{'access':'/dev/null','error':_0x672b7d(0x1b4),'loglevel':_0x672b7d(0x142)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x672b7d(0x142),'fallbacks':[{'dest':0xbb9},{'path':_0x672b7d(0x152),'dest':0xbba},{'path':_0x672b7d(0x156),'dest':0xbbb},{'path':_0x672b7d(0x178),'dest':0xbbc}]},'streamSettings':{'network':_0x672b7d(0x186)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x672b7d(0x1ee),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x672b7d(0x186),'security':_0x672b7d(0x142)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x672b7d(0x1ee),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x672b7d(0x142)},'streamSettings':{'network':'ws'
